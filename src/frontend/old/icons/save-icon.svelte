<script lang="ts">
	import { get } from "svelte/store";
	import { navigation } from "../lib/navigation";
	import { availableConfigurations } from "../stores/configuration-store";
	import { storageManager } from "../stores/storage-manager";


  export let style = "fill-white";
  
  function saveBop () {
    const params = navigation.currentPathParams;
    const versionId = params.configurationId;
    const bopId = params.bopId;
    const bop = get(availableConfigurations)
      .find(config => get(config.id) === versionId)
      .businessOperations.find(bop => get(bop.id) === bopId);
    storageManager.manager.updateBop(params.configurationId, bop);
  }

</script>

<svg class="{style}" width="16" height="16" version="1.1" viewBox="0 0 4.2333 4.2333" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" on:click={saveBop}>
  <g transform="translate(-121.01 -130.48)">
    <path d="m121.48 130.48c-0.26104 0-0.47064 0.21165-0.47064 0.47033v3.2927c0 0.25868 0.2096 0.47033 0.47064 0.47033h3.2924c0.25868 0 0.47033-0.21165 0.47033-0.47033v-2.8223l-0.94067-0.94067zm0 0.47033h2.6267l0.66565 0.66565v2.627h-3.2924zm0.57316 0.56678v0.47642h1.4661v-0.47642zm1.0858 1.0858c-0.33881 0-0.61241 0.27329-0.61241 0.61211 0 0.33888 0.2736 0.61241 0.61241 0.61241 0.3388 0 0.61241-0.27353 0.61241-0.61241 0-0.33882-0.27361-0.61211-0.61241-0.61211z" stroke-width=".26458"/>
    <path d="m135.59 122.85c-0.533-0.143-1.0831 0.1222-1.3013 0.628-0.6303-0.1793-1.2083-0.5172-1.6784-0.9819 0.084-0.1097 0.1464-0.2356 0.1843-0.3699 0.1556-0.6036-0.205-1.229-0.8056-1.396-0.135-0.035-0.2762-0.042-0.4138-0.026-0.1673-0.6389-0.1709-1.3085-0.012-1.9437 0.2209 0.026 0.4438-0.014 0.6407-0.111 0.2753-0.1446 0.4762-0.4004 0.5543-0.7046 0.085-0.331 0.016-0.6853-0.1869-0.9642 0.2263-0.227 0.4804-0.4247 0.7567-0.5871 0.2799-0.1618 0.5809-0.2832 0.894-0.3653 0.138 0.3135 0.406 0.5511 0.7328 0.6458 0.2741 0.076 0.5654 0.046 0.8147-0.085 0.215-0.1248 0.3884-0.3096 0.4854-0.5402 0.628 0.1768 1.204 0.5115 1.6739 0.9718-0.082 0.1136-0.1424 0.2423-0.1773 0.3792-0.1553 0.6033 0.2054 1.2279 0.8056 1.3953 0.1358 0.039 0.277 0.05 0.4165 0.035 0.1626 0.6332 0.1654 1.2952 0.012 1.9246-0.5496-0.062-1.0557 0.2878-1.1938 0.8249-0.085 0.3307-0.017 0.6848 0.1857 0.9637-0.2255 0.228-0.4796 0.4253-0.7561 0.5871-0.2774 0.16-0.5756 0.2801-0.8855 0.3629l-0.1466-0.2433" fill="none"/>
  </g>
</svg>

